<div class="ai-chat">
  <div class="chat-header">
    <h2>Chat com IA - Assistente de Projetos</h2>
    <p>Posso criar tarefas, mover no Kanban e gerenciar projetos para você</p>
  </div>
  <div class="chat-window">
    <div class="msg" *ngFor="let m of messages" [class.user]="m.role==='user'" [class.assistant]="m.role==='assistant'">
      <div class="bubble">{{ m.content }}</div>

      <!-- Botões de confirmação -->
      <div *ngIf="m.showConfirmation" class="confirmation-buttons">
        <button class="confirm-btn approve" (click)="confirmAction(m, true)">
          ✅ Confirmar
        </button>
        <button class="confirm-btn reject" (click)="confirmAction(m, false)">
          ❌ Cancelar
        </button>
      </div>
    </div>

    <div *ngIf="loading" class="msg assistant">
      <div class="bubble">Digitando...</div>
    </div>
  </div>
  <div class="composer">
    <input [(ngModel)]="input" (keyup.enter)="send()" placeholder="Escreva aqui..." />
    <button (click)="send()" [disabled]="loading">{{ loading ? 'Enviando...' : 'Enviar' }}</button>
  </div>
</div>

