<header class="app-header">
  <div class="header-container">
    <!-- Logo and Brand -->
    <div class="brand-section">
      <div class="logo">
        <i class="icon-folder"></i>
      </div>
      <h2 class="brand-title">Project Management</h2>
    </div>

    <!-- Navigation -->
    <nav class="main-nav">
      <a 
        routerLink="/dashboard" 
        class="nav-link"
        [class.active]="isActiveRoute('/dashboard')"
      >
        <i class="icon-home"></i>
        Dashboard
      </a>
      <a 
        routerLink="/projects" 
        class="nav-link"
        [class.active]="isActiveRoute('/projects')"
      >
        <i class="icon-folder"></i>
        Projetos
      </a>
      <a 
        routerLink="/kanban" 
        class="nav-link"
        [class.active]="isActiveRoute('/kanban')"
      >
        <i class="icon-tasks"></i>
        Kanban
      </a>
    </nav>

    <!-- User Menu -->
    <div class="user-section">
      <div class="user-menu" (clickOutside)="closeUserMenu()">
        <button 
          class="user-button"
          (click)="toggleUserMenu()"
          [class.active]="isUserMenuOpen"
        >
          <div class="user-avatar">
            <i class="icon-user"></i>
          </div>
          <div class="user-info" *ngIf="currentUser">
            <span class="user-name">{{ currentUser.fullName }}</span>
            <span class="user-email caption">{{ currentUser.email }}</span>
          </div>
          <i class="icon-chevron-down" [class.rotated]="isUserMenuOpen"></i>
        </button>

        <!-- Dropdown Menu -->
        <div class="user-dropdown" *ngIf="isUserMenuOpen">
          <div class="dropdown-header">
            <div class="user-avatar-large">
              <i class="icon-user"></i>
            </div>
            <div class="user-details" *ngIf="currentUser">
              <h4 class="user-name">{{ currentUser.fullName }}</h4>
              <p class="user-email caption">{{ currentUser.email }}</p>
              <p class="user-username caption">@{{ currentUser.username }}</p>
            </div>
          </div>

          <div class="dropdown-divider"></div>

          <div class="dropdown-menu">
            <button class="dropdown-item" (click)="navigateTo('/profile')">
              <i class="icon-user"></i>
              Meu Perfil
            </button>
            <button class="dropdown-item" (click)="navigateTo('/settings')">
              <i class="icon-settings"></i>
              Configurações
            </button>
            <div class="dropdown-divider"></div>
            <button class="dropdown-item logout" (click)="logout()">
              <i class="icon-logout"></i>
              Sair
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
